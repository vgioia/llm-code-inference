```python
import sys
input = sys.stdin.read

def get_infinite_kingdoms(capitals):
    min_x = min(capitals, key=lambda x: x[0])[0]
    max_x = max(capitals, key=lambda x: x[0])[0]
    min_y = min(capitals, key=lambda x: x[1])[1]
    max_y = max(capitals, key=lambda x: x[1])[1]

    infinite_kingdoms = set()
    for i, (x, y) in enumerate(capitals):
        if x == min_x or x == max_x or y == min_y or y == max_y:
            infinite_kingdoms.add(i + 1)
    
    return sorted(infinite_kingdoms)

data = input().strip().split()
N = int(data[0])
capitals = [(int(data[2 * i + 1]), int(data[2 * i + 2])) for i in range(N)]

result = get_infinite_kingdoms(capitals)
print(" ".join(map(str, result)))
```